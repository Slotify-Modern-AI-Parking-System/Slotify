<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nearby Parking Lots</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-6">
  <div class="max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-6">
    <h1 class="text-3xl font-bold text-center text-gray-800 mb-4">Nearby Parking Lots</h1>

    <p class="text-center text-gray-600 mb-6">This is a simple template will update later when merge is complete.</p>

    <div class="flex justify-center mb-6">
      <img src="/static/images/parkinglotschematic.png" alt="Parking Lot Overhead View" class="w-full max-w-lg rounded shadow-md" />
    </div>

    <div class="overflow-x-auto">
      <table class="w-full border-collapse border border-gray-300">
        <thead class="bg-gray-200">
          <tr>
            <th class="border px-4 py-2 text-left">Name</th>
            <th class="border px-4 py-2 text-left">Location</th>
            <th class="border px-4 py-2 text-left">Total Spaces</th>
            <th class="border px-4 py-2 text-left">Available</th>
          </tr>
        </thead>
        <tbody id="parkingLotsTable">
          <!-- Dynamic rows will be inserted here -->
        </tbody>
      </table>
    </div>
  </div>

  <script>
    // Placeholder fetch simulation
    async function loadNearbyParkingLots() {
      const response = await fetch('/getParkingLots/');
      const lots = await response.json();

      const table = document.getElementById('parkingLotsTable');
      table.innerHTML = '';

      lots.forEach(lot => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td class="border px-4 py-2">${lot.name}</td>
          <td class="border px-4 py-2">${lot.location}</td>
          <td class="border px-4 py-2">${lot.total_spaces}</td>
          <td class="border px-4 py-2">${lot.available_spaces}</td>
        `;
        table.appendChild(row);
      });
    }

    loadNearbyParkingLots();
  </script>
</body>
</html>